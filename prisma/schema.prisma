generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("MONGO_DB")
}

model GuildConfiguration {
  id         String   @id @default(auto()) @map("_id") @db.ObjectId
  guild_id   String   @unique
  language   String   @default("EN")
  timezone   String   @default("UTC")
  hour12     Boolean  @default(false)
  commands   String[] @default([])
  premium    Boolean  @default(false)
  expires_at Int      @default(0)
}

model ClientVoucher {
  id         String  @id @default(auto()) @map("_id") @db.ObjectId
  voucher_id String  @unique
  redeemed   Boolean @default(false)
  type       Int     @default(0)
}

model UserWarn {
  id           String   @id @default(auto()) @map("_id") @db.ObjectId
  guild_id     String
  user_id      String
  warn_id      String   @unique
  moderator_id String
  date         DateTime @default(now())
  reason       String   @default("No reason")
}

model GuildSuggestion {
  id                  String  @id @default(auto()) @map("_id") @db.ObjectId
  guild_id            String  @unique
  channel_id          String
  message_suggestions Boolean @default(false)
  self_vote           Boolean @default(true)
  neutral_vote        Boolean @default(false)
  threads             Boolean @default(false)
  review_channel_id   String
  review_enabled      Boolean @default(false)
  allow_images        Boolean @default(false)
}

model UserSuggestion {
  id            String   @id @default(auto()) @map("_id") @db.ObjectId
  guild_id      String
  user_id       String
  message_id    String   @unique
  suggestion_id String   @unique
  content       String
  status        String
  votes_up      String[] @default([])
  votes_neutral String[] @default([])
  votes_down    String[] @default([])
  comments      String[] @default([])
  images        String[] @default([])
}
