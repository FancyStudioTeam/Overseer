model UserKanbanBoard {
  administratorIds String[]                 @default([])
  boardId          String                   @unique
  boardSections    UserKanbanBoardSection[]
  boardTitle       String
  createdAt        DateTime                 @default(now())
  id               String                   @id @default(auto()) @map("_id") @db.ObjectId
  ownerId          String
  updatedAt        DateTime                 @updatedAt
  userIds          String[]                 @default([])

  @@index([boardId, ownerId])
}

model UserKanbanBoardTask {
  assignedByIds String[]                    @default([])
  createdAt     DateTime                    @default(now())
  creatorId     String
  description   String
  id            String                      @unique
  objectId      String                      @id @default(auto()) @map("_id") @db.ObjectId
  priority      UserKanbanBoardTaskPriority @default(Low)
  section       UserKanbanBoardSection      @relation(fields: [sectionId], references: [sectionId], onDelete: Cascade)
  sectionId     String
  title         String
  updatedAt     DateTime                    @updatedAt
}

model UserKanbanBoardSection {
  board              UserKanbanBoard       @relation(fields: [boardId], references: [boardId], onDelete: Cascade)
  boardId            String
  createdAt          DateTime              @default(now())
  id                 String                @id @default(auto()) @map("_id") @db.ObjectId
  sectionColor       String                @default("#ffffff")
  sectionDescription String                @default("A section for the board.")
  sectionId          String                @unique
  sectionPosition    Int                   @default(1)
  sectionTitle       String
  tasks              UserKanbanBoardTask[]
  updatedAt          DateTime              @updatedAt
}

enum UserKanbanBoardTaskPriority {
  High
  Low
  Medium
}
